function [ f ] = fitness(ISE,t_r,t_s,M_p)
%Uses performance data to calculate a fitness value

%f = (5/10)*ISE + (1/10)*t_r*100 + (1/10)*t_s*10 + (2/10)*M_p*10;
f = (7/10)*ISE + (1/10)*t_r*100 + (1/10)*t_s*10 + (1/10)*M_p*10;
%lets try to temporiliy only try to minimise IZE
%f = ISE;

%whenever the ISE is really high the others return NaN
%So give these chromosomes a really high fitness value
%to get rid of them
if isnan(f)
f = 999999999;    
end

%higher is worse, so we will take 1/f
f = 1/f;

end

%{
Example performance values are shown below, the idea of the fitness
function is to make these all around the same order and then apply the 
weighting so they all can be seenand they all are minimized in the final 
result

1.573324e+02,1.607517e+00,2.624771e+01,3.240817e+01
1.992849e+02,1.909976e+00,1.826527e+01,4.211680e+01
1.002854e+02,6.136529e-01,1.266033e+01,6.233648e+01
8.767737e+01,9.180046e-01,1.774070e+01,2.505405e+01
1.297983e+02,9.940042e-01,1.417693e+01,5.375595e+01
8.475006e+01,6.375950e-01,1.294274e+01,5.105791e+01
2.485926e+02,2.813116e+00,2.278901e+01,3.520897e+01
1.081008e+02,6.073073e-01,1.291327e+01,6.599147e+01
1.262101e+02,9.551076e-01,8.999364e+00,5.537791e+01
1.254407e+02,6.351683e-01,1.552440e+01,6.823558e+01
8.301130e+01,5.859660e-01,1.308956e+01,4.988714e+01
8.516904e+04,NaN,NaN,NaN
8.627230e+01,1.042045e+00,1.720251e+01,1.782655e+01
1.502567e+02,1.799609e+00,1.383680e+01,2.636018e+01
1.250243e+02,1.404019e+00,1.862273e+01,2.282914e+01
2.888817e+02,2.030921e+00,3.797852e+01,5.638265e+01
8.669495e+01,1.051822e+00,1.646194e+01,1.451020e+01
1.271234e+02,4.902954e-01,2.008298e+01,6.912337e+01
9.380821e+01,6.224075e-01,1.415882e+01,5.576048e+01
5.933618e+12,NaN,NaN,NaN
1.408467e+02,2.035236e+00,1.901226e+01,1.687277e+01
1.212171e+02,1.938462e+00,2.305071e+01,1.281208e+01
1.186640e+02,5.430644e-01,1.691143e+01,6.842417e+01
1.343841e+02,9.594374e-01,1.377560e+01,5.792770e+01
1.195989e+02,7.170929e-01,1.193809e+01,6.574731e+01
1.919013e+02,1.351692e+00,1.947472e+01,5.854532e+01
1.476865e+02,1.806323e+00,1.471312e+01,2.489905e+01
1.184831e+02,9.729770e-01,1.331524e+01,5.006597e+01
1.327610e+02,1.040413e+00,1.003618e+01,5.362777e+01
1.175528e+02,5.911697e-01,1.419732e+01,7.333713e+01
2.253999e+02,1.688010e+00,1.701327e+01,5.680188e+01
1.984125e+02,1.611942e+00,1.545066e+01,5.218683e+01
9.728857e+01,1.268940e+00,1.766650e+01,1.186678e+01
1.949423e+04,NaN,NaN,NaN
1.210606e+02,7.520259e-01,1.225957e+01,6.397597e+01
1.068047e+02,1.048031e+00,2.195433e+01,2.545672e+01
9.315871e+01,7.140118e-01,1.251961e+01,5.167336e+01
9.174386e+01,9.567434e-01,1.824463e+01,2.258868e+01
8.517596e+01,8.253838e-01,1.167255e+01,3.722812e+01
1.268082e+02,5.995476e-01,1.336090e+01,7.738615e+01
9.743490e+01,7.970913e-01,1.076436e+01,4.938697e+01
2.102496e+02,1.801784e+00,1.731604e+01,4.919012e+01
8.470333e+01,6.223949e-01,1.122964e+01,5.045949e+01
9.546995e+01,1.204980e+00,1.652099e+01,1.295078e+01
1.330229e+02,1.748400e+00,2.424555e+01,2.127526e+01
1.026512e+02,1.106178e+00,1.742028e+01,2.299258e+01
1.151520e+02,9.355685e-01,1.309302e+01,5.022849e+01
9.103297e+02,9.765352e-01,1.464624e+02,9.313000e+01
1.026825e+02,9.384123e-01,1.218837e+01,4.307573e+01
8.290364e+01,9.945878e-01,1.750858e+01,1.589038e+01

%}